# プロンプトテンプレート

## 質問例

`samples/robot_face_animation2.py`を精読して、内容を把握して、質問に回答してください。

現在の実装では、表情の変化は、lerp関数の特性上、最初は変化が早く、だんだん変化の割合が遅くなるとおもうのですが、この理解は正しいでしょうか？


もう一度、「タスク管理改善策」を見直して、あなたが確実に実行できるように、修正してください。



## 計画書作成

`samples/robot_face_animation2.py`の改善をしたい。
- 現在の問題点
  - 表情が変換している間は、目がキョロキョロ動くが、表情変化が完了すると目の動きが止まってしまう。
- 改良のポイント
  - 表情の変化し終わったあと、目がキョロキョロ動くようにしたい。
  - 目がキョロキョロ動くことは座標の変化で観察できる。適切に確認できるようデバッグログを工夫する。
- 計画書のファイル名: `Plan10.md`
- 計画書の言語: 日本語
- トップレベルのプログラマーの視点で計画を再確認して、改善すべき点があれば修正してください。
− `Plan10.md`が完成したら、ユーザーに確認を求めてください。



## 実行タスクリスト(チェックリスト)作成

`Plan10.md`の内容は素晴らしいです。
``Plan10.md``に基づいて、具体的な作業を検討して、実行順にタスクリストを作成してください。作成できたら、作業を進める前に、タスクリストの妥当性をユーザーに評価するよう求めてください。
- 出力ファイル名: ``Tasks10.md``
- タスクリストは、チェックリスト形式
- 言語: 日本語
- `Plan10.md`の「作業項目 (TODO)」を元に、なるべく詳細にタスク分割をしてください。
- 最初に、gitブランチ `feature/Tasks10`を作成し、そのブランチにswitchするタスク項目を追加すること。
- 途中のきりのいいところで、`mise run lint`でリンティングするタスク項目を入れてください。
- 最後に、`mise run test` を実行し、エラーがなくなるまで修正するタスク項目を追加すること。



## タスク実行

### 実行指示
`Tasks10.md` の未完了タスクを上から順に実行してください。ただし以下の「厳守ルールと行動原則」を厳守すること。

### 厳守ルールと行動原則
1.  **【絶対厳守】ユーザーの指示が最優先**:
    *   **ユーザーからの明示的な指示（特に「作業停止」「待機」の指示）を最優先する。**
    *   ユーザーが「先に進めて良い」と明示的に指示するまで、いかなる作業も**絶対に行わない。**
2.  **マーク付けは常に1項目ずつ**:
    *   `TasksXX.md` 内の各チェックボックス（`[ ]` から `[x]`）の更新は、たとえコード上の変更が複数項目にまたがっていても、**必ず1項目ずつ**行う。
    *   1つの `replace` ツール実行は、**1つのチェックボックスの更新のみ**を目的とする。
3.  **マーク付け後の即時報告**:
    *   1つのチェックボックスの更新が完了したら、すぐに「タスク『[具体的なタスク内容]』を完了し、マークしました」と報告する。
    *   親タスクにチェックボックスがない場合でも、その子タスクが全て完了したら「タスク『[親タスク名]』の子タスクをすべて完了しました」と報告する。
4.  **`replace` ツールの確実な使用**:
    *   `replace` ツールの `old_string` は、変更対象の行の**正確な内容（前後の空白、インデント、`[ ]` または `[x]` の状態を含む）**を `read_file` で確認した上で記述する。
    *   `replace` ツールが失敗した場合は、深追いせず、**同じディレクトリに新しい一時ファイルを作成し、その後ファイル全体を差し替える**手法に即座に切り替える。
5.  **タスク開始/中断後の【強制】再確認**:
    *   新たなタスクを開始する前、または中断したタスクを再開する前には、**必ずタスクリスト全体を最初から最後まで見直し、現在の状況と次のステップを再確認する。**
    *   この再確認フェーズでは、**`GEMINI.md` の厳守ルールも必ず再確認する。**

### 停止条件
- 10個のタスクを完了するごとに、一度生成を停止し、`GEMINI.md`を再度精読したのちに、私の確認を待ってください。
- もし途中でエラーが発生した場合は、マークをせずに即座に停止し、現状を報告してください。

### ファイル編集を確実にする方法
- replaceツールが失敗したら、replaceツールの利用はあきらめる。
- 同じディレクトリに新しくファイルを作って、差し替える方法にする。



## **人間用**

以上のタスクが問題なければ、
- 作成したブランチを developブランチに merge
- 不要なブランチを削除
