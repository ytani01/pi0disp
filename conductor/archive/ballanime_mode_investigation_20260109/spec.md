# Track: ballanime から `mode` オプションが削除された経緯と理由の調査

## 概要 (Overview)
`uv run pi0disp ballanime` コマンドから過去に削除された `--mode` オプションについて、Git の履歴を遡ってその削除された経緯、理由、および当時の機能を調査します。調査結果はプロジェクトルートの `report.md` にまとめ、機能の有用性と現在の最適化技術（Dirty Rectangle 等）による再実装の可能性を評価します。

## 機能要件 (Functional Requirements)
- **Git履歴の解析**: `src/pi0disp/commands/ballanime.py` （およびその前身）のコミット履歴を調査し、`--mode` オプションが削除された特定のコミットを特定する。
- **削除理由の特定**: 特定したコミットのメッセージ、および関連する PR や Issue（あれば）を確認し、なぜ削除されたのか（整理目的か、不具合か、パフォーマンス上の制約か等）を明らかにする。
- **旧機能の解析**: 削除直前のコードを解析し、`--mode` オプションが具体的にどのような表示パターンや動作を制御していたのかを特定する。
- **レポート作成**: プロジェクトルートに `report.md` を作成し、以下の内容を記述する。
    - 削除されたコミットの SHA と日時
    - 判明した削除理由
    - 当時の `--mode` オプションの機能詳細
    - 復活の是非に関する考察（判断基準 A, B に基づく）
- **次ステップの提案**: 調査の結果、復活が有益かつ技術的に可能と判断された場合、復活のための新しいトラック案をレポートに含める。
- **ユーティリティ活用の検討**: `src/pi0disp/utils/` にある `Sprite` や `performance-core` (RegionOptimizer等) を活用し、アプリケーションレベルで描画領域を限定することで、現在のドライバレベルの最適化をさらに補込み、CPU負荷を低減できないか検討する。

## 非機能要件 (Non-Functional Requirements)
- **事実に基づく調査**: 推測を避け、Git の記録やコードの事実に基づいて報告する。
- **日本語での記述**: チャットおよび `report.md` は日本語で作成する。

## 受け入れ基準 (Acceptance Criteria)
- プロジェクトルートに `report.md` が作成されていること。
- `--mode` オプションが削除されたコミット SHA が特定されていること。
- 当時の機能詳細と削除理由が明確に記述されていること。
- 判断基準（整理目的、または現在の技術で解決可能なパフォーマンス問題）に基づき、復活させるべきかどうかの結論が出されていること。
- `Sprite` クラスや `RegionOptimizer` を用いたさらなる最適化の可能性について、検討結果が記述されていること。

## 範囲外 (Out of Scope)
- 本トラック内での `--mode` オプションの実際の再実装（必要であれば別トラックを作成する）。
