# Specification - 目の動きをスレッド化の修正

## Overview
前のトラック「目の動きをスレッド化」で発生したバグ（インタラクティブモードで顔のパーツが表示されない）を修正し、スレッド間の通信をキュー方式に刷新します。

## Functional Requirements
- **キューベースの通信**: 
    - メインスレッドからサブスレッド（視線管理スレッド）への表情変更命令に `queue.Queue` を使用する。
    - メインスレッドは `_OO_` や `^oo^` といった表情文字列をキューに投入する。
- **サブスレッドの振る舞い**:
    - キューから文字列を取得し、パースして表情を更新する。
    - キューに新しい命令がない間は、直前の表情を維持したまま視線移動と描画を継続する（アニメーションの継続性）。
    - 投入された命令はスキップせず、すべて順番に処理する（順次処理の保証）。
    - 特定の停止命令（例: `"exit"`）を受け取った場合、安全にスレッドを終了する。
- **バグ修正**:
    - インタラクティブモードにおいて、顔のパーツ（目など）が正しく表示されない問題を修正し、常時描画されるようにする。

## Non-Functional Requirements
- **スレッドセーフ**: キューを使用することで、メインスレッドとサブスレッド間のデータ競合を避ける。
- **即応性**: キューにデータが入った場合、サブスレッドは次の描画サイクルで速やかに表情を更新する。

## Acceptance Criteria
- [ ] インタラクティブモードを起動した際、初期状態で顔のパーツが表示されていること。
- [ ] インタラクティブモードで表情文字列を入力した際、サブスレッドがそれを検知して表情が切り替わること。
- [ ] ランダムモードにおいても、スレッド化された視線移動が正常に動作し続けること。
- [ ] アプリケーション終了時に、サブスレッドが正常にクリーンアップされること。

## Out of Scope
- 表情文字列のパースロジック自体の根本的な変更（既存のパース機能をキュー経由で利用する形にする）。
- 新しい表情の追加。
